{"ast":null,"code":"import _classCallCheck from\"/Users/ragir/Desktop/bookswap workspace/bookswap-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ragir/Desktop/bookswap workspace/bookswap-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ragir/Desktop/bookswap workspace/bookswap-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ragir/Desktop/bookswap workspace/bookswap-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{faHeart}from\"@fortawesome/free-solid-svg-icons\";import{faHeartBroken}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{connect}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";var Like=/*#__PURE__*/function(_Component){_inherits(Like,_Component);var _super=_createSuper(Like);function Like(){var _this;_classCallCheck(this,Like);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={liked:false};_this.toggle=function(friend,title){var localLiked=_this.state.liked;// Toggle the state variable liked\nlocalLiked=!localLiked;_this.setState({liked:localLiked});_this.sendMessage(friend,title);};_this.sendMessage=function(usernameP,title){console.log('sendMessage');var message={senderId:_this.props.user.username,recipientId:usernameP,senderName:_this.props.user.username,recipientName:usernameP,content:' liked your book titled '+title,timestamp:new Date()};if(_this.props.socket){console.log('sending');_this.props.socket.send(\"/app/chat\",{},JSON.stringify(message));}// }\n};return _this;}_createClass(Like,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,friend=_this$props.friend,title=_this$props.title;console.log(friend+'is friend');return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",style:{border:\"1px solid black\",width:\"15%\"},onClick:function onClick(){return _this2.toggle(friend,title);},children:this.state.liked===false?/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faHeartBroken}):/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faHeart})})})});}}]);return Like;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.userReducer,socket:state.websocketReducer.socket};};export default connect(mapStateToProps)(Like);","map":{"version":3,"sources":["/Users/ragir/Desktop/bookswap workspace/bookswap-ui/src/Like.js"],"names":["React","Component","faHeart","faHeartBroken","FontAwesomeIcon","connect","Like","state","liked","toggle","friend","title","localLiked","setState","sendMessage","usernameP","console","log","message","senderId","props","user","username","recipientId","senderName","recipientName","content","timestamp","Date","socket","send","JSON","stringify","border","width","mapStateToProps","userReducer","websocketReducer"],"mappings":"wpBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,mCAAxB,CACA,OAASC,aAAT,KAA8B,mCAA9B,CAEA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,OAAT,KAAwB,aAAxB,C,8CAEMC,CAAAA,I,mTACNC,K,CAAQ,CAAEC,KAAK,CAAE,KAAT,C,OACRC,M,CAAS,SAACC,MAAD,CAASC,KAAT,CAAmB,CAC3B,GAAIC,CAAAA,UAAU,CAAG,MAAKL,KAAL,CAAWC,KAA5B,CAEA;AACAI,UAAU,CAAG,CAACA,UAAd,CACA,MAAKC,QAAL,CAAc,CAAEL,KAAK,CAAEI,UAAT,CAAd,EACG,MAAKE,WAAL,CAAiBJ,MAAjB,CAAyBC,KAAzB,EAEH,C,OAEDG,W,CAAc,SAACC,SAAD,CAAYJ,KAAZ,CAAsB,CAChCK,OAAO,CAACC,GAAR,CAAY,aAAZ,EAED,GAAMC,CAAAA,OAAO,CAAG,CACdC,QAAQ,CAAE,MAAKC,KAAL,CAAWC,IAAX,CAAgBC,QADZ,CAEdC,WAAW,CAAER,SAFC,CAGdS,UAAU,CAAE,MAAKJ,KAAL,CAAWC,IAAX,CAAgBC,QAHd,CAIdG,aAAa,CAAEV,SAJD,CAKdW,OAAO,CAAE,2BAA6Bf,KALxB,CAMdgB,SAAS,CAAE,GAAIC,CAAAA,IAAJ,EANG,CAAhB,CAQA,GAAG,MAAKR,KAAL,CAAWS,MAAd,CAAqB,CACjBb,OAAO,CAACC,GAAR,CAAY,SAAZ,EACH,MAAKG,KAAL,CAAWS,MAAX,CAAkBC,IAAlB,CAAuB,WAAvB,CAAoC,EAApC,CAAwCC,IAAI,CAACC,SAAL,CAAed,OAAf,CAAxC,EACA,CAGH;AACA,C,sDAED,iBAAS,iBACL,gBAA0B,KAAKE,KAA/B,CAAQV,MAAR,aAAQA,MAAR,CAAgBC,KAAhB,aAAgBA,KAAhB,CACAK,OAAO,CAACC,GAAR,CAAYP,MAAM,CAAG,WAArB,EACH,mBACA,YAAK,SAAS,CAAC,WAAf,uBACC,qCACA,YACC,SAAS,CAAC,WADX,CAEC,KAAK,CAAE,CAAEuB,MAAM,CAAE,iBAAV,CAA6BC,KAAK,CAAE,KAApC,CAFR,CAGC,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACzB,MAAL,CAAYC,MAAZ,CAAoBC,KAApB,CAAN,EAHV,UAKE,KAAKJ,KAAL,CAAWC,KAAX,GAAqB,KAArB,cACD,KAAC,eAAD,EAAiB,IAAI,CAAEL,aAAvB,EADC,cAGD,KAAC,eAAD,EAAiB,IAAI,CAAED,OAAvB,EARD,EADA,EADD,EADA,CAiBA,C,kBApDkBD,S,EAuDnB,GAAMkC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAC5B,KAAD,QAAY,CAChCc,IAAI,CAAEd,KAAK,CAAC6B,WADoB,CAEhCP,MAAM,CAAEtB,KAAK,CAAC8B,gBAAN,CAAuBR,MAFC,CAAZ,EAAxB,CAKA,cAAexB,CAAAA,OAAO,CAAC8B,eAAD,CAAP,CAAyB7B,IAAzB,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { faHeart } from \"@fortawesome/free-solid-svg-icons\";\nimport { faHeartBroken } from \"@fortawesome/free-solid-svg-icons\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { connect } from 'react-redux';\n\nclass Like extends Component {\nstate = { liked: false };\ntoggle = (friend, title) => {\n\tlet localLiked = this.state.liked;\n\n\t// Toggle the state variable liked\n\tlocalLiked = !localLiked;\n\tthis.setState({ liked: localLiked });\n    this.sendMessage(friend, title);\n\n};\n\nsendMessage = (usernameP, title) => {\n    console.log('sendMessage')\n\n   const message = {\n     senderId: this.props.user.username,\n     recipientId: usernameP,\n     senderName: this.props.user.username,\n     recipientName: usernameP,\n     content: ' liked your book titled ' + title,\n     timestamp: new Date(),\n   };\n   if(this.props.socket){\n       console.log('sending')\n    this.props.socket.send(\"/app/chat\", {}, JSON.stringify(message));\n   }\n   \n\n // }\n};\n\nrender() {\n    const { friend, title } = this.props\n    console.log(friend + 'is friend')\n\treturn (\n\t<div className=\"container\">\n\t\t<center>\n\t\t<div\n\t\t\tclassName=\"container\"\n\t\t\tstyle={{ border: \"1px solid black\", width: \"15%\" }}\n\t\t\tonClick={() => this.toggle(friend, title)}\n\t\t>\n\t\t\t{this.state.liked === false ? (\n\t\t\t<FontAwesomeIcon icon={faHeartBroken} />\n\t\t\t) : (\n\t\t\t<FontAwesomeIcon icon={faHeart} />\n\t\t\t)}\n\t\t</div>\n\t\t</center>\n\t</div>\n\t);\n}\n}\n\nconst mapStateToProps = (state) => ({\n    user: state.userReducer,\n    socket: state.websocketReducer.socket\n})\n\nexport default connect(mapStateToProps)(Like);"]},"metadata":{},"sourceType":"module"}